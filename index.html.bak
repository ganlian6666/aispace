<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>APIä¸­è½¬æ±‡èš Â· è‡ªç”±ç©ºé—´</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      color-scheme: dark;
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      --bg: #040912;
      --panel: rgba(15, 23, 42, 0.85);
      --panel-border: rgba(255, 255, 255, 0.12);
      --card: rgba(8, 10, 25, 0.7);
      --card-border: rgba(255, 255, 255, 0.08);
      --accent-glow: #45e0ff;
      --accent-warm: #ffbd4a;
      --text-muted: rgba(230, 241, 255, 0.65);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at top, #1c2b62, transparent 55%),
        radial-gradient(circle at 20% 10%, #0b5cfd, transparent 35%),
        radial-gradient(circle at 80% 0%, #40e0ff, transparent 45%),
        var(--bg);
      color: #f8fbff;
    }

    .app-shell {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      padding: 24px clamp(16px, 4vw, 40px) 64px;
      gap: 20px;
    }

    header {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      gap: 16px;
      background: rgba(8, 12, 32, 0.7);
      border: 1px solid var(--panel-border);
      border-radius: 16px;
      padding: 16px 24px;
      backdrop-filter: blur(16px);
      box-shadow: 0 20px 50px rgba(4, 8, 24, 0.8);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      justify-self: start;
    }

    .brand svg {
      width: 38px;
      height: 38px;
      border-radius: 14px;
      background: linear-gradient(135deg, #ff8d4b, #f266ff);
      padding: 8px;
      box-shadow: 0 8px 25px rgba(255, 100, 200, 0.35);
    }

    .brand strong {
      font-size: 20px;
      letter-spacing: 0.5px;
    }

    nav {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      font-size: 14px;
      justify-self: center;
    }

    nav a {
      color: var(--text-muted);
      text-decoration: none;
      padding: 6px 12px;
      border-radius: 999px;
      transition: background 0.3s ease, color 0.3s ease;
    }

    nav a:hover,
    nav a.active {
      background: rgba(69, 224, 255, 0.12);
      color: #fff;
    }

    .github-link {
      justify-self: end;
      display: flex;
      align-items: center;
    }

    .github-link a {
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--text-muted);
      text-decoration: none;
      font-size: 12px;
      padding: 6px 12px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .github-link a:hover {
      color: #fff;
      background: rgba(255, 255, 255, 0.05);
    }

    .github-link svg {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }

    .hero {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      background: var(--panel);
      border-radius: 20px;
      padding: 20px 28px;
      border: 1px solid var(--panel-border);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
      flex-wrap: wrap;
    }

    .hero h1 {
      margin: 0;
      font-size: clamp(26px, 3vw, 34px);
    }

    .hero p {
      color: var(--text-muted);
      margin: 8px 0 0;
      max-width: 500px;
    }

    .btn-primary {
      background: #2563eb;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.2s;
    }

    .btn-primary:hover {
      background: #1d4ed8;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      max-width: 1400px;
      margin: 0 auto;
    }

    @media (max-width: 1200px) {
      .card-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      .card-grid {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: var(--card);
      border: 1px solid var(--card-border);
      border-radius: 18px;
      padding: 24px;
      box-shadow:
        0 15px 35px rgba(3, 6, 16, 0.8),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      display: flex;
      flex-direction: column;
      gap: 14px;
      min-height: 220px;
    }

    .card-head {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 12px;
    }

    .card-head h3 {
      margin: 0;
      font-size: 18px;
      line-height: 1.4;
    }

    .status {
      border-radius: 12px;
      padding: 4px 12px;
      font-size: 12px;
      background: rgba(69, 224, 255, 0.15);
      color: #7ef3ff;
      border: 1px solid rgba(69, 224, 255, 0.5);
    }

    .card p {
      margin: 0;
      color: rgba(255, 255, 255, 0.88);
      font-size: 14px;
      min-height: 42px;
    }

    .link-block {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .link-block a {
      color: var(--accent-warm);
      font-weight: 600;
      text-decoration: none;
      word-break: break-all;
    }

    .link-block button {
      border: none;
      border-radius: 12px;
      padding: 10px;
      background: rgba(255, 255, 255, 0.04);
      color: #fff;
      cursor: pointer;
      letter-spacing: 0.2px;
      font-weight: 500;
      transition: background 0.3s ease;
    }

    .link-block button:hover {
      background: rgba(69, 224, 255, 0.25);
    }

    .card-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 13px;
      color: var(--text-muted);
      flex-wrap: wrap;
      gap: 8px;
      margin-top: auto;
      padding-top: 16px;
      border-top: 1px solid rgba(255, 255, 255, 0.05);
    }

    .card-actions {
      display: flex;
      gap: 12px;
    }

    .action-btn {
      background: transparent;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      border-radius: 6px;
      transition: all 0.2s;
      font-size: 13px;
    }

    .action-btn:hover {
      background: rgba(255, 255, 255, 0.05);
      color: #fff;
    }

    .action-btn.liked {
      color: #ff4b4b;
    }

    .action-btn.liked svg {
      fill: #ff4b4b;
    }

    .action-btn svg {
      width: 18px;
      height: 18px;
      fill: none;
      stroke: currentColor;
      stroke-width: 2;
    }

    .action-btn.liked svg {
      stroke: none;
    }

    /* Comments Section */
    .comments-section {
      display: none;
      margin-top: 12px;
      padding-top: 12px;
      border-top: 1px solid var(--card-border);
    }

    .comments-section.active {
      display: block;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-5px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .comment-list {
      max-height: 200px;
      overflow-y: auto;
      margin-bottom: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .comment-list::-webkit-scrollbar {
      width: 4px;
    }

    .comment-list::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 2px;
    }

    .comment-item {
      font-size: 13px;
      padding: 8px 12px;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
    }

    .comment-header {
      display: flex;
      justify-content: space-between;
      color: var(--text-muted);
      font-size: 12px;
      margin-bottom: 4px;
    }

    .comment-form {
      display: flex;
      gap: 8px;
    }

    .comment-input {
      flex: 1;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--panel-border);
      border-radius: 6px;
      padding: 8px;
      color: #fff;
      font-size: 13px;
    }

    .nickname-input {
      width: 80px;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--panel-border);
      border-radius: 6px;
      padding: 8px;
      color: #fff;
      font-size: 13px;
    }

    .comment-submit {
      background: var(--accent-glow);
      color: #000;
      border: none;
      border-radius: 6px;
      padding: 0 12px;
      font-weight: 600;
      cursor: pointer;
    }

    /* Modal */
    .modal-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s;
      z-index: 1000;
    }

    .modal-backdrop.active {
      opacity: 1;
      pointer-events: auto;
    }

    .modal {
      background: #1e293b;
      border: 1px solid var(--panel-border);
      padding: 24px;
      border-radius: 16px;
      width: 90%;
      max-width: 500px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
      transform: translateY(20px);
      transition: transform 0.3s;
    }

    .modal-backdrop.active .modal {
      transform: translateY(0);
    }

    .modal h2 {
      margin: 0 0 16px 0;
      font-size: 20px;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-size: 14px;
      color: var(--text-muted);
    }

    .form-control {
      width: 100%;
      background: rgba(0, 0, 0, 0.3);
      border: 1px solid var(--panel-border);
      border-radius: 8px;
      padding: 10px;
      color: #fff;
      font-size: 14px;
    }

    .form-control:focus {
      outline: none;
      border-color: var(--accent-glow);
    }

    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      margin-top: 24px;
    }

    .btn-secondary {
      background: transparent;
      border: 1px solid var(--panel-border);
      color: var(--text-muted);
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
    }

    @media (max-width: 640px) {
      header {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>

<body>
  <div class="app-shell">
    <header>
      <div class="brand">
        <svg viewBox="0 0 48 48" aria-hidden="true">
          <path fill="url(#grad1)" d="M12 8l24 32H12z" opacity="0.9"></path>
          <defs>
            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#ff9a4d"></stop>
              <stop offset="100%" stop-color="#f552ff"></stop>
            </linearGradient>
          </defs>
        </svg>
        <div>
          <strong>è‡ªç”±ç©ºé—´</strong>
          <p style="margin: 0; font-size: 12px; color: var(--text-muted);">
            è‡ªç”±AIç©ºé—´Â·å¼€æ”¾åˆ†äº«å¹³å?
          </p>
        </div>
      </div>
      <nav>
        <a href="index.html" class="active">APIä¸­è½¬æ±‡èš</a>
        <a href="vpn.html">VPN</a>
        <a href="guide.html">é…ç½®æŒ‡å—</a>
      </nav>
      <div class="github-link">
        <a href="https://github.com/ganlian6666/freespace" target="_blank" rel="noopener noreferrer">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12z" />
          </svg>
          <span>GitHub</span>
        </a>
      </div>
    </header>

    <section class="hero">
      <div>
        <h1>ä¸å®šæœŸåˆ†äº«ä¼˜è´¨APIæ¥å£</h1>
        <p>æ¯ä¸€æ?API éƒ½ç»è¿‡äººå·¥æ£€æµ‹ï¼ŒåŸºæœ¬æ”¯æŒclaude codeï¼Œcodexå’Œå›½å†…ä¼˜è´¨AIæ¨¡å‹ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨ï¼?/p>
      </div>
      <button class="btn-primary" onclick="openModal()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        æäº¤ç½‘ç«™
      </button>
    </section>


    <div class="card-grid">
      <!-- Card 1 -->
      <article class="card" data-card-id="1">
        <div class="card-head">
          <h3>Evolai - æ³¨å†Œé€ç§¯åˆ?+ Plus ä¼šè¯</h3>
          <span class="status">åœ¨çº¿</span>
        </div>
        <p>å…¨é“¾è·¯ç›‘æ§ä¿è¯å¯ç”¨æ€§ï¼Œé€šè¿‡ä¸“å±ç½‘å…³è®¿é—®ä½å»¶è¿Ÿæ¥å£ã€?/p>
        <div class="link-block">
          <a href="https://www.evolai.cn/?inviteCode=PDGD2EDT"
            target="_blank">https://www.evolai.cn/?inviteCode=PDGD2EDT</a>
          <button type="button" onclick="copyLink(this)">é‚€è¯·é“¾æ?Â· å¤åˆ¶</button>
        </div>
        <div class="card-footer">
          <div class="card-actions">
            <button class="action-btn like-btn" onclick="toggleLike(1)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                </path>
              </svg>
              <span class="like-count">0</span>
            </button>
            <button class="action-btn" onclick="toggleComments(1)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                </path>
              </svg>
              è¯„è®º
            </button>
          </div>
          <div>æœ€åæ£€æµ?2025-12-01</div>
        </div>
        <div class="comments-section" id="comments-1">
          <div class="comment-list"></div>
          <div class="comment-form">
            <input type="text" class="comment-input" placeholder="è¾“å…¥è¯„è®º..."
              onkeypress="if(event.key==='Enter') postComment(1)">
            <button class="comment-submit" onclick="postComment(1)">å‘é€?/button>
          </div>
        </div>
      </article>

      <!-- Card 2 -->
      <article class="card" data-card-id="2">
        <div class="card-head">
          <h3>CodeMirror - æ³¨å†Œé€?6kw Token</h3>
          <span class="status">åœ¨çº¿</span>
        </div>
        <p>å¤šå±‚èº«ä»½è¯†åˆ«ä¸åŠ å¯†é€šé“ï¼Œé€‚åˆæ¥å…¥ç”Ÿäº§ç¯å¢ƒã€?/p>
        <div class="link-block">
          <a href="https://api.codemirror.codes/register?aff=EUsy"
            target="_blank">https://api.codemirror.codes/register?aff=EUsy</a>
          <button type="button" onclick="copyLink(this)">é‚€è¯·é“¾æ?Â· å¤åˆ¶</button>
        </div>
        <div class="card-footer">
          <div class="card-actions">
            <button class="action-btn like-btn" onclick="toggleLike(2)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                </path>
              </svg>
              <span class="like-count">0</span>
            </button>
            <button class="action-btn" onclick="toggleComments(2)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                </path>
              </svg>
              è¯„è®º
            </button>
          </div>
          <div>æœ€åæ£€æµ?2025-12-01</div>
        </div>
        <div class="comments-section" id="comments-2">
          <div class="comment-list"></div>
          <div class="comment-form">
            <input type="text" class="comment-input" placeholder="è¾“å…¥è¯„è®º..."
              onkeypress="if(event.key==='Enter') postComment(2)">
            <button class="comment-submit" onclick="postComment(2)">å‘é€?/button>
          </div>
        </div>
      </article>

      <!-- Card 3 -->
      <article class="card" data-card-id="3">
        <div class="card-head">
          <h3>AgentRouter - AI è·¯ç”±æœåŠ¡</h3>
          <span class="status">åœ¨çº¿</span>
        </div>
        <p>æ™ºèƒ½è·¯ç”±åˆ†å‘ï¼Œæ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢ï¼Œç¨³å®šé«˜æ•ˆã€?/p>
        <div class="link-block">
          <a href="https://agentrouter.org/register?aff=wZbO"
            target="_blank">https://agentrouter.org/register?aff=wZbO</a>
          <button type="button" onclick="copyLink(this)">é‚€è¯·é“¾æ?Â· å¤åˆ¶</button>
        </div>
        <div class="card-footer">
          <div class="card-actions">
            <button class="action-btn like-btn" onclick="toggleLike(3)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                </path>
              </svg>
              <span class="like-count">0</span>
            </button>
            <button class="action-btn" onclick="toggleComments(3)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                </path>
              </svg>
              è¯„è®º
            </button>
          </div>
          <div>æœ€åæ£€æµ?2025-12-01</div>
        </div>
        <div class="comments-section" id="comments-3">
          <div class="comment-list"></div>
          <div class="comment-form">
            <input type="text" class="comment-input" placeholder="è¾“å…¥è¯„è®º..."
              onkeypress="if(event.key==='Enter') postComment(3)">
            <button class="comment-submit" onclick="postComment(3)">å‘é€?/button>
          </div>
        </div>
      </article>

      <!-- Card 4 -->
      <article class="card" data-card-id="4">
        <div class="card-head">
          <h3>CodeRelay - API ä¸­è½¬æœåŠ¡</h3>
          <span class="status">åœ¨çº¿</span>
        </div>
        <p>é¢å‘ä¼ä¸šçº§ï¼Œè‡ªåŠ¨é™æµä¿æŠ¤ï¼Œæ±‡æ€»ç›‘æ§æŠ¥è­¦ã€?/p>
        <div class="link-block">
          <a href="https://api.code-relay.com/register?aff=B1LY"
            target="_blank">https://api.code-relay.com/register?aff=B1LY</a>
          <button type="button" onclick="copyLink(this)">é‚€è¯·é“¾æ?Â· å¤åˆ¶</button>
        </div>
        <div class="card-footer">
          <div class="card-actions">
            <button class="action-btn like-btn" onclick="toggleLike(4)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                </path>
              </svg>
              <span class="like-count">0</span>
            </button>
            <button class="action-btn" onclick="toggleComments(4)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                </path>
              </svg>
              è¯„è®º
            </button>
          </div>
          <div>æœ€åæ£€æµ?2025-12-01</div>
        </div>
        <div class="comments-section" id="comments-4">
          <div class="comment-list"></div>
          <div class="comment-form">
            <input type="text" class="comment-input" placeholder="è¾“å…¥è¯„è®º..."
              onkeypress="if(event.key==='Enter') postComment(4)">
            <button class="comment-submit" onclick="postComment(4)">å‘é€?/button>
          </div>
        </div>
      </article>

      <!-- Card 5 -->
      <article class="card" data-card-id="5">
        <div class="card-head">
          <h3>ä¸ƒç‰›äº?- ç™¾äº¿ Token å¥–åŠ±</h3>
          <span class="status">åœ¨çº¿</span>
        </div>
        <p>å åŠ å¤šåœ°èŠ‚ç‚¹ï¼Œä¸Šä¼ é€Ÿåº¦ä¸?Token é™é¢å‡å¯å®æ—¶è¿½è¸ªã€?/p>
        <div class="link-block">
          <a href="https://www.qiniu.com/ai/promotion/invited?cps_key=1hga674ddglea"
            target="_blank">https://www.qiniu.com/ai/promotion/invited?cps_key=1hga674ddglea</a>
          <button type="button" onclick="copyLink(this)">é‚€è¯·é“¾æ?Â· å¤åˆ¶</button>
        </div>
        <div class="card-footer">
          <div class="card-actions">
            <button class="action-btn like-btn" onclick="toggleLike(5)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                </path>
              </svg>
              <span class="like-count">0</span>
            </button>
            <button class="action-btn" onclick="toggleComments(5)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                </path>
              </svg>
              è¯„è®º
            </button>
          </div>
          <div>æœ€åæ£€æµ?2025-12-01</div>
        </div>
        <div class="comments-section" id="comments-5">
          <div class="comment-list"></div>
          <div class="comment-form">
            <input type="text" class="comment-input" placeholder="è¾“å…¥è¯„è®º..."
              onkeypress="if(event.key==='Enter') postComment(5)">
            <button class="comment-submit" onclick="postComment(5)">å‘é€?/button>
          </div>
        </div>
      </article>

      <!-- Card 6 -->
      <article class="card" data-card-id="6">
        <div class="card-head">
          <h3>API520 - ç¨³å®š API æœåŠ¡</h3>
          <span class="status">åœ¨çº¿</span>
        </div>
        <p>å¤šè½®ä¼šè¯ã€é—®é¢˜æ±‚è§£å‡å¯ä½¿ç”¨ï¼Œæ”¯æŒæ—¥å¸¸ä»»åŠ¡è°ƒåº¦ã€?/p>
        <div class="link-block">
          <a href="https://api520.pro/register?aff=klcS" target="_blank">https://api520.pro/register?aff=klcS</a>
          <button type="button" onclick="copyLink(this)">é‚€è¯·é“¾æ?Â· å¤åˆ¶</button>
        </div>
        <div class="card-footer">
          <div class="card-actions">
            <button class="action-btn like-btn" onclick="toggleLike(6)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z">
                </path>
              </svg>
              <span class="like-count">0</span>
            </button>
            <button class="action-btn" onclick="toggleComments(6)">
              <svg viewBox="0 0 24 24">
                <path
                  d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z">
                </path>
              </svg>
              è¯„è®º
            </button>
          </div>
          <div>æœ€åæ£€æµ?2025-12-01</div>
        </div>
        <div class="comments-section" id="comments-6">
          <div class="comment-list"></div>
          <div class="comment-form">
            <input type="text" class="comment-input" placeholder="è¾“å…¥è¯„è®º..."
              onkeypress="if(event.key==='Enter') postComment(6)">
            <button class="comment-submit" onclick="postComment(6)">å‘é€?/button>
          </div>
        </div>
      </article>
    </div>
  </div>

  <!-- Submission Modal -->
  <div class="modal-backdrop" id="submitModal">
    <div class="modal">
      <h2>æäº¤æ–°è·¯ç”±å™¨</h2>
      <p style="color: var(--text-muted); font-size: 14px; margin-bottom: 20px;">
        åˆ†äº«ä½ çš„è·¯ç”±å™¨ï¼Œè®©æ›´å¤šäººå‘ç°å’Œä½¿ç”¨ã€‚æäº¤åéœ€è¦å®¡æ ¸éªŒè¯ã€?
      </p>
      <form id="submitForm" onsubmit="submitWebsite(event)">
        <div class="form-group">
          <label>è·¯ç”±å™¨åç§?*</label>
          <input type="text" name="name" class="form-control" placeholder="ä¾‹å¦‚: OpenAIå®˜æ–¹API" required>
        </div>
        <div class="form-group">
          <label>ç½‘ç«™åœ°å€ *</label>
          <input type="url" name="url" class="form-control" placeholder="ä¾‹å¦‚: https://chatgpt.com/" required>
        </div>
        <div class="form-group">
          <label>é‚€è¯·é“¾æ?/label>
          <input type="url" name="invite_link" class="form-control"
            placeholder="ä¾‹å¦‚: https://example.com/invite?code=abc">
        </div>
        <div class="form-group">
          <label>æè¿°</label>
          <textarea name="description" class="form-control" rows="3" placeholder="ç®€å•ä»‹ç»ä¸€ä¸?.."></textarea>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
          <button type="submit" class="btn-primary">æäº¤</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // å¤åˆ¶é“¾æ¥åŠŸèƒ½
    function copyLink(button) {
      const linkBlock = button.parentElement;
      const link = linkBlock.querySelector('a').href;

      navigator.clipboard.writeText(link).then(() => {
        const originalText = button.textContent;
        button.textContent = 'å·²å¤åˆ?';
        button.style.background = 'rgba(69, 224, 255, 0.3)';

        setTimeout(() => {
          button.textContent = originalText;
          button.style.background = '';
        }, 1500);
      }).catch(() => {
        // é™çº§æ–¹æ¡ˆ
        const textarea = document.createElement('textarea');
        textarea.value = link;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);

        button.textContent = 'å·²å¤åˆ?';
        setTimeout(() => {
          button.textContent = 'é‚€è¯·é“¾æ?Â· å¤åˆ¶';
        }, 1500);
      });
    }

    // Modal Logic
    function openModal() {
      document.getElementById('submitModal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('submitModal').classList.remove('active');
    }

    async function submitWebsite(event) {
      event.preventDefault();
      const form = event.target;
      const formData = new FormData(form);
      const data = Object.fromEntries(formData.entries());
      const btn = form.querySelector('button[type="submit"]');

      btn.disabled = true;
      btn.textContent = 'æäº¤ä¸?..';

      try {
        const res = await fetch('/api/submit', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        if (res.ok) {
          alert('æäº¤æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„åˆ†äº«ã€?);
          closeModal();
          form.reset();
        } else {
          const err = await res.json();
          alert('æäº¤å¤±è´¥: ' + (err.error || 'æœªçŸ¥é”™è¯¯'));
        }
      } catch (e) {
        alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•');
      } finally {
        btn.disabled = false;
        btn.textContent = 'æäº¤';
      }
    }

    // Likes Logic
    async function loadLikes() {
      try {
        const res = await fetch('/api/likes');
        const likes = await res.json();
        document.querySelectorAll('.card').forEach(card => {
          const id = card.dataset.cardId;
          const countSpan = card.querySelector('.like-count');
          if (likes[id]) countSpan.textContent = likes[id];
        });
      } catch (e) {
        console.error('Failed to load likes', e);
      }
    }

    async function toggleLike(cardId) {
      const btn = document.querySelector(`.card[data-card-id="${cardId}"] .like-btn`);
      const countSpan = btn.querySelector('.like-count');

      // Optimistic update
      const currentCount = parseInt(countSpan.textContent) || 0;

      try {
        const res = await fetch('/api/likes', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ card_id: cardId })
        });

        if (res.ok) {
          const data = await res.json();
          countSpan.textContent = data.count;
          btn.classList.add('liked');
        } else {
          const err = await res.json();
          if (res.status === 429) {
            alert('æ‚¨ä»Šå¤©ç‚¹èµå¤ªé¢‘ç¹äº†ï¼Œè¯·æ˜å¤©å†æ¥ï¼');
          } else {
            console.error(err);
          }
        }
      } catch (e) {
        console.error(e);
      }
    }

    // Comments Logic
    async function toggleComments(cardId) {
      const section = document.getElementById(`comments-${cardId}`);
      const isActive = section.classList.contains('active');

      if (!isActive) {
        section.classList.add('active');
        loadComments(cardId);
      } else {
        section.classList.remove('active');
      }
    }

    async function loadComments(cardId) {
      const list = document.querySelector(`#comments-${cardId} .comment-list`);
      list.innerHTML = '<div style="padding:8px;text-align:center;color:var(--text-muted)">åŠ è½½ä¸?..</div>';

      try {
        const res = await fetch(`/api/comments?card_id=${cardId}`);
        const comments = await res.json();

        list.innerHTML = '';
        if (comments.length === 0) {
          list.innerHTML = '<div style="padding:8px;text-align:center;color:var(--text-muted)">æš‚æ— è¯„è®ºï¼Œå¿«æ¥æŠ¢æ²™å‘ï¼?/div>';
          return;
        }

        comments.forEach(c => {
          const div = document.createElement('div');
          div.className = 'comment-item';
          div.innerHTML = `
            <div class="comment-header">
              <span>${c.nickname || 'åŒ¿åç”¨æˆ·'}</span>
              <span>${new Date(c.created_at).toLocaleDateString()}</span>
            </div>
            <div>${c.content}</div>
          `;
          list.appendChild(div);
        });
      } catch (e) {
        list.innerHTML = '<div style="padding:8px;text-align:center;color:red">åŠ è½½å¤±è´¥</div>';
      }
    }

    async function postComment(cardId) {
      const section = document.getElementById(`comments-${cardId}`);
      const input = section.querySelector('.comment-input');
      const nicknameInput = section.querySelector('.nickname-input');
      const content = input.value.trim();
      const nickname = nicknameInput ? nicknameInput.value.trim() : '';

      if (!content) return;

      try {
        const res = await fetch('/api/comments', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ card_id: cardId, content, nickname })
        });

        if (res.ok) {
          input.value = '';
          loadComments(cardId); // Reload
        } else {
          const err = await res.json();
          if (res.status === 429) {
            alert('æ‚¨ä»Šå¤©è¯„è®ºå¤ªå¤šäº†ï¼Œä¼‘æ¯ä¸€ä¸‹å§ï¼?);
          } else {
            alert('è¯„è®ºå¤±è´¥: ' + err.error);
          }
        }
      } catch (e) {
        alert('ç½‘ç»œé”™è¯¯');
      }
    }

    // Init
    loadLikes();
  </script>
</body>

</html>
