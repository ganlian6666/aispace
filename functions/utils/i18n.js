export const translations = {
    // ä¸­æ–‡
    zh: {
        // Shared
        brand_name: "è‡ªç”±ç©ºé—´",
        brand_subtitle: "è‡ªç”±AIç©ºé—´Â·å¼€æ”¾åˆ†äº«å¹³å°",
        nav_home: "APIä¸­è½¬æ±‡èš",
        nav_news: "AI å‰æ²¿åŠ¨æ€",
        nav_vpn: "VPN",
        nav_guide: "é…ç½®æŒ‡å—",
        github_text: "GitHub",

        // Home (index.js)
        home_title: "APIä¸­è½¬æ±‡èš Â· è‡ªç”±ç©ºé—´",
        hero_title: "ä¸å®šæœŸåˆ†äº«ä¼˜è´¨APIæ¥å£",
        hero_subtitle: "æ¯ä¸€æ¡ API éƒ½ç»è¿‡äººå·¥æ£€æµ‹ï¼ŒåŸºæœ¬æ”¯æŒclaude codeï¼Œcodexå’Œå›½å†…ä¼˜è´¨AIæ¨¡å‹ï¼Œè¯·æ”¾å¿ƒä½¿ç”¨ï¼",
        submit_hint: "æ¬¢è¿åˆ†äº«ç¨³å®šé«˜æ•ˆçš„ä¸­è½¬ç«™!",
        btn_submit: "æäº¤ç½‘ç«™",
        status_checking: "æ£€æµ‹ä¸­",
        btn_invite_copy: "é‚€è¯·é“¾æ¥ Â· å¤åˆ¶",
        btn_copied: "å·²å¤åˆ¶!",
        text_last_checked: "æœ€åæ£€æµ‹",
        text_never_checked: "ä»æœªæ£€æµ‹",
        comment_placeholder: "è¾“å…¥è¯„è®º...",
        btn_send: "å‘é€",
        nickname_current: "å½“å‰æ˜µç§°",
        btn_modify: "[ä¿®æ”¹]",
        modal_submit_title: "æäº¤æ–°çš„ä¸­è½¬ç«™",
        modal_submit_desc: "æ¬¢è¿åˆ†äº«ä½ çš„ä¸­è½¬ç«™ï¼Œæäº¤åéœ€è¦å®¡æ ¸éªŒè¯ï¼Œé€šè¿‡çš„ä¼šå°†ä½ çš„é‚€è¯·é“¾æ¥æŒ‚åˆ°ä¸»é¡µä¸Šï¼",
        label_name: "ä¸­è½¬ç«™åç§° *",
        placeholder_name: "ä¾‹å¦‚: OpenAIå®˜æ–¹API",
        label_url: "ç½‘ç«™åœ°å€ *",
        placeholder_url: "ä¾‹å¦‚: https://chatgpt.com/",
        label_invite: "é‚€è¯·é“¾æ¥",
        placeholder_invite: "ä¾‹å¦‚: https://chatgpt.com/invite?code=abc",
        label_desc: "ç®€å•æè¿°",
        placeholder_desc: "ç®€å•ä»‹ç»ä¸€ä¸‹...",
        btn_feedback: "åé¦ˆå»ºè®®",
        btn_cancel: "å–æ¶ˆ",
        btn_submit_confirm: "æäº¤",
        modal_feedback_title: "æ„è§åé¦ˆ",
        modal_feedback_desc: "æ— è®ºæ˜¯ Bug æŠ¥å‘Šè¿˜æ˜¯åŠŸèƒ½å»ºè®®ï¼Œæˆ‘ä»¬éƒ½éå¸¸æ¬¢è¿ï¼",
        label_feedback_content: "åé¦ˆå†…å®¹ *",
        placeholder_feedback_content: "è¯·è¯¦ç»†æè¿°æ‚¨çš„å»ºè®®æˆ–é‡åˆ°çš„é—®é¢˜...",
        label_contact: "è”ç³»æ–¹å¼ (é€‰å¡«)",
        placeholder_contact: "é‚®ç®±æˆ–å¾®ä¿¡å·ï¼Œæ–¹ä¾¿æˆ‘ä»¬è”ç³»æ‚¨",
        btn_send_feedback: "å‘é€åé¦ˆ",
        modal_nickname_title: "è®¾ç½®æ˜µç§°",
        modal_nickname_desc: "è¯·è®¾ç½®ä¸€ä¸ªæ˜µç§°ä»¥ä¾¿å‘è¡¨è¯„è®ºã€‚è®¾ç½®åå°†è‡ªåŠ¨ä¿å­˜ã€‚",
        label_nickname: "æ˜µç§° *",
        placeholder_nickname: "ä¾‹å¦‚: åŒ¿åç”¨æˆ·",
        btn_anonymous: "åŒ¿åè®¿é—®",
        btn_save: "ä¿å­˜",
        alert_submit_success: "æäº¤æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„åˆ†äº«ã€‚",
        alert_submit_fail: "æäº¤å¤±è´¥",
        alert_network_error: "ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•",
        alert_feedback_success: "æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼æˆ‘ä»¬ä¼šè®¤çœŸæŸ¥çœ‹ã€‚",
        alert_like_limit: "æ‚¨ä»Šå¤©ç‚¹èµå¤ªé¢‘ç¹äº†ï¼Œè¯·æ˜å¤©å†æ¥ï¼",
        alert_comment_limit: "æ‚¨ä»Šå¤©è¯„è®ºå¤ªå¤šäº†ï¼Œä¼‘æ¯ä¸€ä¸‹å§ï¼",
        alert_nickname_required: "è¯·è¾“å…¥æ˜µç§°",
        loading: "åŠ è½½ä¸­...",
        no_comments: "æš‚æ— è¯„è®ºï¼Œå¿«æ¥æŠ¢æ²™å‘ï¼",

        // News (news.js)
        news_page_title: "AI å‰æ²¿åŠ¨æ€ Â· è‡ªç”±ç©ºé—´",
        news_header: "AI å‰æ²¿åŠ¨æ€",
        news_subtitle: "æ±‡èš TechCrunch ä¸ 36Kr çš„æœ€æ–° AI èµ„è®¯ï¼Œå®æ—¶ç¿»è¯‘ï¼Œå…¨çƒåŒæ­¥ã€‚",
        btn_refresh_news: "åˆ·æ–°èµ„è®¯",
        btn_refreshing: "æ­£åœ¨è·å–...",
        btn_read_more: "é˜…è¯»åŸæ–‡",
        btn_load_more: "æŸ¥çœ‹æ›´æ—©çš„æ–°é—»",
        text_no_news: "æš‚æ— æ–°é—»ï¼Œè¯·ç‚¹å‡»åˆ·æ–°æŒ‰é’®è·å–æœ€æ–°èµ„è®¯ã€‚",
        alert_update_success: "æ›´æ–°æˆåŠŸï¼è·å–äº† {fetched} æ¡ï¼Œæ–°å¢ {inserted} æ¡ã€‚",
        alert_rate_limit: "åˆ·æ–°å¤ªé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•ã€‚",

        // VPN (vpn.js)
        vpn_page_title: "VPNæ¨è Â· è‡ªç”±ç©ºé—´",
        vpn_hero_title: "VPN æ¨è Â· ç²¾é€‰æœåŠ¡",
        vpn_hero_desc: "ç»è¿‡ä¸¥æ ¼æµ‹è¯•å’Œç”¨æˆ·åé¦ˆç­›é€‰çš„ä¼˜è´¨VPNæœåŠ¡ï¼Œæä¾›ç¨³å®šå¿«é€Ÿçš„å…¨çƒç½‘ç»œè®¿é—®ä½“éªŒã€‚",
        vpn_top_1: "TOP 1",
        vpn_top_2: "TOP 2",
        vpn_top_3: "TOP 3",
        tag_speed: "âš¡ é€Ÿåº¦",
        tag_stable: "â— ç¨³å®š",
        price_suffix: "/æœˆèµ·",
        btn_visit: "ç«‹å³è®¿é—®",
        section_features: "æ ¸å¿ƒç‰¹æ€§",
        section_payment: "ğŸ’³ æ”¯ä»˜æ–¹å¼",

        // Guide (guide.js)
        guide_page_title: "é…ç½®æŒ‡å— Â· è‡ªç”±ç©ºé—´",
        guide_hero_title: "API é…ç½®æŒ‡å—",
        guide_hero_desc: "å…¨é¢çš„ Claude Code å’Œ Codex CLI é…ç½®æ•™ç¨‹ï¼Œå¸®åŠ©ä½ å¿«é€Ÿæ¥å…¥ç¬¬ä¸‰æ–¹ API ä¸­è½¬æœåŠ¡ã€‚",
        guide_win_title: "Windows ç³»ç»Ÿé…ç½®æ•™ç¨‹",
        guide_win_desc: "æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ åœ¨ Windows ç³»ç»Ÿä¸Šé…ç½® Claude Code å’Œ Codex CLI ä½¿ç”¨ç¬¬ä¸‰æ–¹ API ä¸­è½¬æœåŠ¡ã€‚",
        guide_mac_title: "macOS ç³»ç»Ÿé…ç½®æ•™ç¨‹",
        guide_mac_desc: "æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ åœ¨ macOS ç³»ç»Ÿä¸Šé…ç½® Claude Code å’Œ Codex CLI ä½¿ç”¨ç¬¬ä¸‰æ–¹ API ä¸­è½¬æœåŠ¡ã€‚",
        guide_linux_title: "Linux ç³»ç»Ÿé…ç½®æ•™ç¨‹",
        guide_linux_desc: "æœ¬æ•™ç¨‹å°†æŒ‡å¯¼ä½ åœ¨ Linux ç³»ç»Ÿä¸Šé…ç½® Claude Code å’Œ Codex CLI ä½¿ç”¨ç¬¬ä¸‰æ–¹ API ä¸­è½¬æœåŠ¡ã€‚",
        guide_common_title: "é€šç”¨é…ç½®è¯´æ˜",
        guide_env_vars: "æ”¯æŒçš„ç¯å¢ƒå˜é‡",
        guide_table_tool: "å·¥å…·",
        guide_table_env: "ç¯å¢ƒå˜é‡",
        guide_table_desc: "è¯´æ˜",
        guide_tip_security: "å®‰å…¨æé†’",
        guide_security_1: "ä¸è¦å°† API å¯†é’¥æäº¤åˆ°å…¬å¼€çš„ä»£ç ä»“åº“",
        guide_security_2: "å®šæœŸè½®æ¢ä½ çš„ API å¯†é’¥",
        guide_security_3: "ä½¿ç”¨ç¯å¢ƒå˜é‡è€Œéç¡¬ç¼–ç å¯†é’¥",
        guide_security_4: "åœ¨å…±äº«è®¾å¤‡ä¸Šä½¿ç”¨å®Œæ¯•åæ¸…é™¤ç¯å¢ƒå˜é‡",
        btn_copy: "å¤åˆ¶",
        btn_copied_text: "å·²å¤åˆ¶",

        // Guide Content Headers
        guide_step_env: "ä¸€ã€ç¯å¢ƒå‡†å¤‡",
        guide_step_claude: "äºŒã€é…ç½® Claude Code ä½¿ç”¨ç¬¬ä¸‰æ–¹ API",
        guide_step_codex: "ä¸‰ã€é…ç½® Codex CLI ä½¿ç”¨ç¬¬ä¸‰æ–¹ API",
        guide_step_verify: "å››ã€éªŒè¯é…ç½®",
        guide_step_troubleshoot: "å››ã€å¸¸è§é—®é¢˜æ’æŸ¥"
    },

    // English
    en: {
        // Shared
        brand_name: "AI Space",
        brand_subtitle: "Open AI Sharing Platform",
        nav_home: "API Hub",
        nav_news: "AI News",
        nav_vpn: "VPN",
        nav_guide: "Setup Guide",
        github_text: "GitHub",

        // Home (index.js)
        home_title: "API Hub Â· AI Space",
        hero_title: "Quality API Relay Sharing",
        hero_subtitle: "Verified APIs supporting Claude Code, Codex, and top AI models. Use with confidence!",
        submit_hint: "Share your stable API relay!",
        btn_submit: "Submit Site",
        status_checking: "Checking",
        btn_invite_copy: "Invite Link Â· Copy",
        btn_copied: "Copied!",
        text_last_checked: "Last Checked",
        text_never_checked: "Never Checked",
        comment_placeholder: "Type a comment...",
        btn_send: "Send",
        nickname_current: "Nickname",
        btn_modify: "[Edit]",
        modal_submit_title: "Submit New Relay",
        modal_submit_desc: "Share your API relay. Once verified, your invite link will be featured on the homepage!",
        label_name: "Relay Name *",
        placeholder_name: "e.g., OpenAI Official API",
        label_url: "Website URL *",
        placeholder_url: "e.g., https://chatgpt.com/",
        label_invite: "Invite Link",
        placeholder_invite: "e.g., https://chatgpt.com/invite?code=abc",
        label_desc: "Description",
        placeholder_desc: "Brief description...",
        btn_feedback: "Feedback",
        btn_cancel: "Cancel",
        btn_submit_confirm: "Submit",
        modal_feedback_title: "Feedback",
        modal_feedback_desc: "Bug reports or feature suggestions are welcome!",
        label_feedback_content: "Content *",
        placeholder_feedback_content: "Describe your suggestion or issue...",
        label_contact: "Contact (Optional)",
        placeholder_contact: "Email or WeChat for follow-up",
        btn_send_feedback: "Send Feedback",
        modal_nickname_title: "Set Nickname",
        modal_nickname_desc: "Set a nickname to post comments. It will be saved automatically.",
        label_nickname: "Nickname *",
        placeholder_nickname: "e.g., Anonymous",
        btn_anonymous: "Go Anonymous",
        btn_save: "Save",
        alert_submit_success: "Submitted successfully! Thanks for sharing.",
        alert_submit_fail: "Submission failed",
        alert_network_error: "Network error, please try again later",
        alert_feedback_success: "Thank you for your feedback!",
        alert_like_limit: "You've liked too many times today, come back tomorrow!",
        alert_comment_limit: "You've commented too much today, take a break!",
        alert_nickname_required: "Please enter a nickname",
        loading: "Loading...",
        no_comments: "No comments yet, be the first!",

        // News (news.js)
        news_page_title: "AI News Â· AI Space",
        news_header: "AI Frontier News",
        news_subtitle: "Latest AI news from TechCrunch & 36Kr, translated globally.",
        btn_refresh_news: "Refresh News",
        btn_refreshing: "Fetching...",
        btn_read_more: "Read More",
        btn_load_more: "Load More News",
        text_no_news: "No news available, click refresh to get the latest updates.",
        alert_update_success: "Update successful! Fetched {fetched}, Inserted {inserted}.",
        alert_rate_limit: "Too many requests, please try again later.",

        // VPN (vpn.js)
        vpn_page_title: "VPN Recommendations Â· AI Space",
        vpn_hero_title: "Recommended VPNs",
        vpn_hero_desc: "Strictly tested VPN services providing stable and fast global access.",
        vpn_top_1: "TOP 1",
        vpn_top_2: "TOP 2",
        vpn_top_3: "TOP 3",
        tag_speed: "âš¡ Speed",
        tag_stable: "â— Stable",
        price_suffix: "/mo",
        btn_visit: "Visit Now",
        section_features: "Core Features",
        section_payment: "ğŸ’³ Payment Methods",

        // Guide (guide.js)
        guide_page_title: "Setup Guide Â· AI Space",
        guide_hero_title: "API Setup Guide",
        guide_hero_desc: "Comprehensive tutorials for Claude Code and Codex CLI configuration.",
        guide_win_title: "Windows Configuration",
        guide_win_desc: "Tutorial for configuring Claude Code and Codex CLI on Windows.",
        guide_mac_title: "macOS Configuration",
        guide_mac_desc: "Tutorial for configuring Claude Code and Codex CLI on macOS.",
        guide_linux_title: "Linux Configuration",
        guide_linux_desc: "Tutorial for configuring Claude Code and Codex CLI on Linux.",
        guide_common_title: "Common Configuration",
        guide_env_vars: "Supported Environment Variables",
        guide_table_tool: "Tool",
        guide_table_env: "Env Variable",
        guide_table_desc: "Description",
        guide_tip_security: "Security Notice",
        guide_security_1: "Do not commit API keys to public repos",
        guide_security_2: "Rotate your API keys regularly",
        guide_security_3: "Use environment variables instead of hardcoding",
        guide_security_4: "Clear env vars after using shared devices",
        btn_copy: "Copy",
        btn_copied_text: "Copied",

        // Guide Content Headers
        guide_step_env: "I. Environment Prep",
        guide_step_claude: "II. Configure Claude Code",
        guide_step_codex: "III. Configure Codex CLI",
        guide_step_verify: "IV. Verify Configuration",
        guide_step_troubleshoot: "IV. Troubleshooting"
    }
};

/**
 * Parses the Accept-Language header and returns the matched locale (zh or en).
 * @param {string|null} header - The Accept-Language header value.
 * @returns {string} 'zh' or 'en'
 */
export function getLocale(header) {
    if (!header) return 'en';
    // Simple check: if the header contains 'zh', return 'zh', else 'en'
    // More complex parsing can be added if needed, but this suffices for zh/en split.
    if (header.toLowerCase().includes('zh')) {
        return 'zh';
    }
    return 'en';
}

/**
 * Returns the translation for the given key and locale.
 * @param {string} locale - 'zh' or 'en'
 * @param {string} key - The translation key.
 * @param {object} [vars] - Variables to replace in the string (e.g., {name: 'John'}).
 * @returns {string} The translated string or the key if not found.
 */
export function t(locale, key, vars = {}) {
    const dict = translations[locale] || translations['en'];
    let text = dict[key] || key;

    // Simple variable replacement {varName}
    for (const [k, v] of Object.entries(vars)) {
        text = text.replace(new RegExp(\`{\${k}}\`, 'g'), v);
  }
  
  return text;
}
